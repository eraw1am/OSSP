<!DOCTYPE html>
<html>

<head>
    <title>Lookalike style recommendations</title>
    <link rel="stylesheet" href="style.css">
</head>
<nav class="bar_bg">
    <div align="center">
        <a href="index.html"><img src="./photo/home.png" width="60" /></a>
        <!--navi bar-->
    </div>
</nav>

<body class="bg" onload="upload_re();">
    <div align="center">
        <p><br><br><br></p>
        <p class="title_1">나와 어울리는 스타일 찾기</p>
        <p class="title_2" id="gen">나는 어떤 동물과 닮았을까?</p>
        <br><br>
        <table class="table_res" align="center">
            <tr>
                <td class="upload_photo" id="ph" rowspan="5"><img src="./photo/upload_photo.png" id="face-image" width=250 /></td>
                <!--using js-->
                <td rowspan="5">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</td>
                <td class="animal_photo" rowspan="4"><img src="./photo/cat.png" width=180 id="main-photo"/></td>
                <!--using js-->
                <td rowspan="5">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            
            <tr>
                <td><img src="./photo/cat.png" width=60 id="first-photo"/></td>
                <td>&nbsp<span id="first-animal">고양이</span>&nbsp</td>
                <td>&nbsp<span id="first-num"></span>%</td>
                <!--using js-->
            </tr>
            <tr>
                <td><img src="./photo/dog.png" width=60 id="second-photo"/></td>
                <td>&nbsp<span id="second-animal">강아지</span>&nbsp</td>
                <td>&nbsp<span id="second-num"></span>%</td>
                <!--using js-->
            </tr>
            <tr>
                <td><img src="./photo/fox.png" width=60 id="third-photo"/></td>
                <td>&nbsp<span id="third-animal">여&nbsp&nbsp우</span>&nbsp</td>
                <td>&nbsp<span id="third-num"></span>%</td>
                <!--using js-->
            </tr>
            <tr>
                <td class="title_2" align="center"><span id="main-animal">고양이</span></td>
                <!--using js-->
                <td><img src="./photo/other.png" width=60 /></td>
                <td>&nbsp기&nbsp&nbsp타&nbsp</td>
                <td>&nbsp<span id="other-num"></span>%</td>
                <!--using js-->
            </tr>
            
        </table>
    </div>
    <div align="right">
        <table class="table_res">
            <tr>
                <td>&nbsp&nbsp&nbsp&nbsp&nbsp</td>
                <td rowspan="2"><img src="./photo/go.png" width="90" style="cursor:pointer;" onclick="navigate()" /></td>
                <td rowspan="2">&nbsp&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            <tr>
                <td>내 얼굴상에 어울리는 스타일은?</td>
            </tr>
        </table>
    </div>
    <!--script-->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script src="script.js" type="text/javascript"></script>
    <script type="text/javascript">
       
        let one_class = localStorage.getItem("class_one");  
        let two_class = localStorage.getItem("class_two");  
        let three_class = localStorage.getItem("class_three");  

        let one_num = localStorage.getItem("num_one");
        let two_num = localStorage.getItem("num_two");
        let three_num = localStorage.getItem("num_three");

        document.getElementById("main-photo").src = matchphoto(one_class);
        document.getElementById("first-photo").src = matchphoto(one_class);
        document.getElementById("second-photo").src = matchphoto(two_class);
        document.getElementById("third-photo").src = matchphoto(three_class);

        document.getElementById("first-animal").innerHTML = matchname(one_class);
        document.getElementById("second-animal").innerHTML = matchname(two_class);
        document.getElementById("third-animal").innerHTML = matchname(three_class);
        document.getElementById("main-animal").innerHTML = matchname(one_class);

        let first_predict = parseFloat(one_num).toFixed(0)*100;
        let second_predict = parseFloat(two_num).toFixed(0)*100;
        let third_predict = parseFloat(three_num).toFixed(0)*100;
        
        document.getElementById("first-num").innerHTML = first_predict;
        document.getElementById("second-num").innerHTML = second_predict;
        document.getElementById("third-num").innerHTML = third_predict;
        document.getElementById("other-num").innerHTML = 100 - first_predict - second_predict - third_predict;

        

        function matchphoto(item){
            console.log(item);
            switch(item){
                case 'cat':
                    return "./photo/cat.png";
                    break;
                case 'bear':
                    return "./photo/bear.png";
                    break;
                case 'dog':
                    return "./photo/dog.png";
                    break;
                case 'tiger':
                    return "./photo/tiger.png";
                    break;
                case 'wolf':
                    return "./photo/wolf.png";
                    break;
                case 'fox':
                    return "./photo/fox.png";
                    break;
                case 'rabbit':
                    return "./photo/rabbit.png";
                    break;
                case 'squirrel':
                    return "./photo/squirrel.png";
                    break;
                case 'frog':
                    return "./photo/frog.png";
                    break;
                case 'snake':
                    return "./photo/snake.png";
                    break;
                default:
                    return "./photo/other.png";
            }
        }

        function matchname(item){
            switch(item){
                case 'cat':
                    return "고양이";
                    break;
                case 'bear':
                    return " 곰 ";
                    break;
                case 'dog':
                    return "강아지";
                    break;
                case 'tiger':
                    return "호랑이";
                    break;
                case 'wolf':
                    return "늑 대";
                    break;
                case 'fox':
                    return "여 우";
                    break;
                case 'rabbit':
                    return "토 끼";
                    break;
                case 'squirrel':
                    return "다람쥐";
                    break;
                case 'frog':
                    return "개구리";
                    break;
                case 'snake':
                    return " 뱀 ";
                    break;
                default:
                    return "오 류";
            }
        }

        function navigate() {
            let navi = localStorage.getItem("class_one");
            location.href="evaluation_"+navi+".html";
        }

    </script>
</body>